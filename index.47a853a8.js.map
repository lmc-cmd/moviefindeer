{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,SCAAC,EAAAD,EAAA,S,uCCAAE,EAAAF,EAAA,SAEMG,EAAU,CAAEC,QAAS,MAEdC,EAAqB,SAAAC,GAChC,OAAOC,EAAAL,GAASM,OAAOC,QAAQH,EAASH,I,aDK3BO,SAASC,cAAc,gBAC/BC,iBAAiB,UAgBxB,SAAsBC,GAKpB,GAJAA,EAAMC,iBACNf,EAAAgB,WAAWC,KAAO,EAClBjB,EAAAgB,WAAWE,MAAQJ,EAAMK,cAAcC,SAASC,YAAYC,MAAMC,OAEzC,KAArBvB,EAAAgB,WAAWE,MAEb,YADAZ,EAAmB,yDAIrBN,EAAAgB,WACGQ,oBACAC,MAAK,SAAAC,GACJ,GAA4B,IAAxBA,EAAKC,QAAQC,OACf,KAAM,6EAGR,EAAAC,EAAAC,uBAAsBJ,EAAKC,UAC3B,EAAAE,EAAAE,4BAA2BL,EAAKC,SAChC3B,EAAAgC,YAAYC,WAAY,EAAAC,EAAAC,SAAgBT,EAAKC,SAC7CS,EAAgBC,MAAMX,EAAKY,kBAE5BC,OAAM,SAAAC,G,OAASlC,EAAmBkC,SApCvC,IAAMJ,EAAkB,IAAI5B,EAAAN,GAAJ,CAAeF,EAAAyC,oBAAqB,CAC1DC,aAAc,GACdC,aAAc,EACdC,aAAa,EACbC,SAAU,CACRC,YAAa,+CACb7B,KAAM,mCACN8B,WAAa,uDACbC,mBACE,yEACFC,WAAY,0DA6BhBb,EAAgBc,GAAG,aAAa,SAAApC,GAC9Bd,EAAAgB,WAAWC,KAAOH,EAAMG,KAKxBjB,EAAAgB,WACGQ,oBACAC,MAAK,SAAAC,GACJ,GAA4B,IAAxBA,EAAKC,QAAQC,OACf,KAAM,6EAGR,EAAAC,EAAAC,uBAAsBJ,EAAKC,UAC3B,EAAAE,EAAAE,4BAA2BL,EAAKC,SAChC3B,EAAAgC,YAAYC,WAAY,EAAAC,EAAAC,SAAgBT,EAAKC,YAE9CY,OAAM,SAAAC,G,OAASlC,EAAmBkC,S,sBD/DvC7B,SAASwC,QAAS,EAAAnD,EAAAoD,oBAAmB,G","sources":["src/index.js","src/js/inputFilms.js","src/js/alert.js"],"sourcesContent":["import { createRandomMarkup } from './js/randomFilms';\r\nimport './js/inputFilms';\r\nimport './js/lightSwitch';\r\nimport './js/teamLightbox';\r\nimport './js/youtubeFrame';\r\n\r\ndocument.onload = createRandomMarkup(1);\r\n","import Pagination from 'tui-pagination';\r\nimport { containerEl, containerPagination } from './randomFilms';\r\nimport { galleryApi, containerEl } from './randomFilms';\r\nimport {\r\n  changeIdOfGenreToName,\r\n  changeDateInArrayOfResults,\r\n} from './datesForMarkup';\r\nimport { createAlertFailure } from './alert';\r\nimport createFilmCards from '../templates/filmCards.hbs';\r\n\r\nconst formEl = document.querySelector('#search-form');\r\nformEl.addEventListener('submit', onFormSubmit);\r\n\r\nconst paginationSerch = new Pagination(containerPagination, {\r\n  itemsPerPage: 20,\r\n  visiblePages: 5,\r\n  centerAlign: true,\r\n  template: {\r\n    currentPage: '<a class=\"page-btn is-selected\">{{page}}</a>',\r\n    page: '<a class=\"page-btn\">{{page}}</a>',\r\n    moveButton: `<button class=\"move-btn move-btn-{{type}}\"></button>`,\r\n    disabledMoveButton:\r\n      '<button class=\"move-btn move-btn-{{type}} disabled\" disabled></button>',\r\n    moreButton: '<a class=\"page-btn next-is-ellip last-child\">...</a>',\r\n  },\r\n});\r\n\r\nfunction onFormSubmit(event) {\r\n  event.preventDefault();\r\n  galleryApi.page = 1;\r\n  galleryApi.query = event.currentTarget.elements.searchQuery.value.trim();\r\n\r\n  if (galleryApi.query === '') {\r\n    createAlertFailure('Sorry, your query is empty, please, make your choice.');\r\n    return;\r\n  }\r\n\r\n  galleryApi\r\n    .fetchSearchMovies()\r\n    .then(data => {\r\n      if (data.results.length === 0) {\r\n        throw 'Sorry, there are not movies matching your search query. Please try again.';\r\n      }\r\n\r\n      changeIdOfGenreToName(data.results);\r\n      changeDateInArrayOfResults(data.results);\r\n      containerEl.innerHTML = createFilmCards(data.results);\r\n      paginationSerch.reset(data.total_results);\r\n    })\r\n    .catch(error => createAlertFailure(error));\r\n}\r\n\r\npaginationSerch.on('afterMove', event => {\r\n  galleryApi.page = event.page;\r\n  searchMovies();\r\n});\r\n\r\nfunction searchMovies() {\r\n  galleryApi\r\n    .fetchSearchMovies()\r\n    .then(data => {\r\n      if (data.results.length === 0) {\r\n        throw 'Sorry, there are not movies matching your search query. Please try again.';\r\n      }\r\n\r\n      changeIdOfGenreToName(data.results);\r\n      changeDateInArrayOfResults(data.results);\r\n      containerEl.innerHTML = createFilmCards(data.results);\r\n    })\r\n    .catch(error => createAlertFailure(error));\r\n}\r\n","import Notiflix from 'notiflix';\r\n\r\nconst OPTIONS = { timeout: 1500 };\r\n\r\nexport const createAlertFailure = message => {\r\n  return Notiflix.Notify.failure(message, OPTIONS);\r\n};\r\n"],"names":["$4QITu","parcelRequire","$1VFfL","$iU1Pc","$a5647522c65b9f65$var$OPTIONS","timeout","$a5647522c65b9f65$export$6684fe98f6062825","message","$parcel$interopDefault","Notify","failure","document","querySelector","addEventListener","event","preventDefault","galleryApi","page","query","currentTarget","elements","searchQuery","value","trim","fetchSearchMovies","then","data","results","length","$7xXoG","changeIdOfGenreToName","changeDateInArrayOfResults","containerEl","innerHTML","$iklnC","default","$e3da4d00ddfbb2ef$var$paginationSerch","reset","total_results","catch","error","containerPagination","itemsPerPage","visiblePages","centerAlign","template","currentPage","moveButton","disabledMoveButton","moreButton","on","onload","createRandomMarkup"],"version":3,"file":"index.47a853a8.js.map"}